<!DOCTYPE html>
<html>
<head>
    <title>Page Layout Generator</title>
</head>
<body>
    <h2>Upload JSON Layout File</h2>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="file" name="json_file" accept=".json" required />
        <button type="submit">Generate Layout</button>
    </form>

   {% if image_url %}
  <h3>Generated Layout</h3>
  <img src="{{ image_url }}" alt="Layout" style="max-width:100%; border:1px solid #ccc;">

  <form method="POST" action="{% url 'submit_rating' %}">
    {% csrf_token %}
    <label for="rating">Rate this layout (1â€“5):</label>
    <input type="number" name="rating" min="1" max="5" required>

    <!-- Pass page number from JSON -->
    <input type="hidden" name="page_number" value="{{ page_number }}">
    
    <br><br>
    <button type="submit">Submit Rating</button>
  </form>
{% endif %}


    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}
</body>
</html>
